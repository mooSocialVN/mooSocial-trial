!function(o){var a,t,s,e=(a={asButtonOpenFor:""},t=function(e){e.toggleClass("advanced-search-open"),n(e,!1)},s=function(e){var a;e.hasClass("advanced-search-show-popup")?i(e):(e.find(".header_search_popup").toggleClass("search-popup-open"),e.addClass("advanced-search-show-popup"),o("html").toggleClass("main-advanced-popup-open"),a=e.parent(),e.find(".header-advanced-search").css({width:a.outerWidth()}),n(e,!0))},{init:function(e){return e=o.extend({},a,e||{}),this.each(function(){var n=o(this),a=o(window).width();""!=e.asButtonOpenFor&&0!=o(e.asButtonOpenFor).length&&o(e.asButtonOpenFor).click(function(e){e.preventDefault();e=o(this).attr("data-open");void 0!==e&&"full"==e?(t(e=n),s(e)):t(n)}),o(this).find(".box_header_search_overview").click(function(e){e.preventDefault(),768<=o(window).width()&&n.hasClass("advanced-search-show-popup")||i(n)}),o(this).find(".header_search_more").click(function(e){e.preventDefault(),s(n)}),o(this).find(".btn-search_close").click(function(e){e.preventDefault(),i(n)}),o("body").on("afterAjaxSearchServerJSCallback",function(e,a){i(n)}),o(window).resize(function(){var e=o(window).width();a!=e&&(a=e,i(n))})})},close:function(){return this.each(function(){var e=o(this);i(e)})}});function n(e,a){var n,o=null,t=null;0<e.find("input.advanced-search-keyword").length?(n=(o=e.find("input.advanced-search-keyword")).attr("name"),0<e.find(".header_search_popup").find('input[name="'+n+'"]').length&&(t=e.find(".header_search_popup").find('input[name="'+n+'"]')),null!=t?!0===a?(t.val(o.val()),o.prop("disabled",!0),t.prop("disabled",!1),o.hide(),t.show(),t.focus()):(o.val(t.val()),o.prop("disabled",!1),t.prop("disabled",!0),t.hide(),o.show(),o.focus()):o.focus()):(o=e.find("input:text:visible:first").focus(),e=e.find("textarea:visible:first").focus(),(0==o.length?e:o).focus())}function i(e){e.removeClass("advanced-search-open"),e.removeClass("advanced-search-show-popup"),e.find(".header_search_popup").removeClass("search-popup-open"),e.find(".header-advanced-search").css({width:"auto"}),o("html").removeClass("main-advanced-popup-open")}o.fn.extend({SearchItemUI:e.init,SearchItemUIClose:e.close})}(jQuery);