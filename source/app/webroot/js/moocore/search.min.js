(function(a,e){"function"===typeof define&&define.amd?define("jquery mooResponsive mooCoreMenu mooPhrase mooTooltip spinner".split(" "),e):"object"===typeof exports?module.exports=e(require("jquery")):a.mooSearch=e()})(this,function(a,e,p,g,m){var k={asHorizontalMenuFor:""},l=function(c){c=a.extend({},k,c||{});var f=!1;""!=c.asHorizontalMenuFor&&0!=a(c.asHorizontalMenuFor).length&&(f=!0);a("#global-search-filters li").unbind("click");a("#global-search-filters li").click(function(){var b=a(this).find("a");
if(b.hasClass("no-ajax"))return!0;b.spin("tiny");a("#global-search-filters .current").removeClass("current");b.parent().addClass("current");switch(b.attr("id")){case "filter-blogs":case "filter-groups":case "filter-topics":a("#search-content").html('<div class="core-loading topics" id="list-content">'+g.__("loading")+"</div>");break;case "filter-albums":case "filter-videos":a("#search-content").html('<div class="core-loading albums" id="list-content">'+g.__("loading")+"</div>");break;case "filter-users":a("#search-content").html('<div class="core-loading users_list" id="list-content">'+
g.__("loading")+"</div>");break;default:a("#search-content").html('<div class="core-loading" id="list-content">'+g.__("loading")+"</div>")}b.hasClass("json-view");var d=b.data();a("#search_result_content").load(encodeURI(d.url),{noCache:1},function(n){b.spin(!1);e.init();h();m.init();f&&a(c.asHorizontalMenuFor).HorizontalMenuClose();a("body").trigger("afterAjaxSearchGlobalSearchCallback",[])});return!1});h()},h=function(){a(".globalSearchMore").unbind("click");a(".globalSearchMore").on("click",function(){var c=
a(this).data();a("#filter-"+c.query).trigger("click")})};return{initGlobalSearchMore:h,init:l,hashInit:function(c,f){f=a.extend({},k,f||{});var b=a.parseJSON(c);l(f);var d=b.tabs;""!=d&&(0<a("#filter-"+d).length?(a("#filter-"+d).spin("tiny"),a("#global-search-filters .current").removeClass("current"),a("#filter-"+d).parent().addClass("current"),a("#search_result_content").html(g.__("loading")),a("#search_result_content").load(a("#filter-"+d).attr("data-url"),function(n){a("#filter-"+d).spin(!1);e.init()})):
window.location.replace(b.link));h()}}});